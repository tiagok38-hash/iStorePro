import{i as b,u as y,j as e,S as j}from"./index-BMA--0RW.js";import{r as s,u as v,d as N,L as w}from"./react-vendor-Bv8thS0I.js";import"./supabase-C1Qlw3jS.js";const L=()=>{const[n,d]=s.useState(""),[i,u]=s.useState(""),[o,l]=s.useState(!1),{login:p,isAuthenticated:c}=b(),a=v(),{showToast:x}=y();N.useEffect(()=>{c&&a("/")},[c,a]);const[r,h]=s.useState(!1),f=async t=>{t.preventDefault(),l(!0);try{await p(n,i),h(!0),setTimeout(()=>{a("/")},400)}catch(g){l(!1),x(g.message||"Falha no login.","error")}},m="w-full px-4 py-2 border rounded-md bg-transparent border-border focus:ring-2 focus:ring-accent focus:border-transparent transition";return e.jsxs("div",{className:`space-y-6 transition-all duration-500 ease-in-out transform ${r?"opacity-0 scale-95 translate-y-4":"opacity-100 scale-100 translate-y-0"}`,children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-center text-primary",children:"Acessar sua conta"}),e.jsxs("p",{className:"text-sm text-center text-muted mt-1",children:["Não tem uma conta?"," ",e.jsx(w,{to:"/register",className:"font-medium text-accent hover:underline",children:"Cadastre-se"})]})]}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-primary mb-1",children:"Email"}),e.jsx("input",{id:"email",type:"email",value:n,onChange:t=>d(t.target.value),className:m,required:!0,placeholder:"seu@email.com"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password-login",className:"block text-sm font-medium text-primary mb-1",children:"Senha"}),e.jsx("input",{id:"password-login",type:"password",value:i,onChange:t=>u(t.target.value),className:m,required:!0,placeholder:"••••••••"})]}),e.jsx("button",{type:"submit",disabled:o||r,className:"w-full px-4 py-2.5 bg-primary text-on-primary rounded-md font-semibold hover:bg-opacity-90 transition disabled:bg-muted flex items-center justify-center",children:o||r?e.jsx(j,{className:"h-5 w-5"}):"Entrar"})]})]})};export{L as default};
