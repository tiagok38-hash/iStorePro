import{g as q,a as W,b as V,c as _,j as e,S as z,f as T,T as U,d as G,U as J,C as K}from"./index-BMA--0RW.js";import{r as g,d as F,L as Q}from"./react-vendor-Bv8thS0I.js";import{R as X,B as Z,C as ee,X as te,Y as se,T as ae,a as re,b as oe}from"./charts-D-FiJo9K.js";import"./supabase-C1Qlw3jS.js";const ne=F.memo(()=>e.jsxs("div",{className:"bg-accent-light text-accent text-sm font-medium px-3 py-2 rounded-lg flex items-center gap-2",children:[e.jsx(G,{className:"h-4 w-4"}),e.jsx("span",{children:"Bem-vindo ao iStore! Fique de olho para novidades."})]})),le=F.memo(({count:d})=>e.jsxs(Q,{to:"/reports?tab=estoque&filter=low_stock",className:"bg-danger-light text-danger text-sm font-medium px-3 py-2 rounded-lg flex items-center gap-2 hover:bg-red-200 transition-colors",children:[e.jsx(U,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-semibold",children:["Produtos com estoque baixo: ",d]})]})),R=F.memo(({title:d,value:p,subValue1:l,subValue2:f,subValue3:i,className:S})=>e.jsxs("div",{className:`p-5 rounded-lg border border-border ${S||"bg-surface"}`,children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-base font-bold text-secondary",children:d}),e.jsx("button",{className:"text-xs font-semibold text-muted bg-surface-secondary px-3 py-1 rounded-full hover:bg-border",children:"ATUALIZAR"})]}),e.jsx("p",{className:"text-3xl font-bold text-primary mt-2",children:p}),l&&e.jsx("p",{className:"text-sm text-blue-600 font-semibold mt-1",children:l}),f&&e.jsx("p",{className:"text-base text-success font-semibold",children:f}),i&&e.jsx("p",{className:"text-base text-success font-semibold",children:i})]})),ce=F.memo(({sales:d,products:p,className:l})=>{const[f,i]=g.useState("day"),S=g.useMemo(()=>{const a=new Date,n=new Date(a.getFullYear(),a.getMonth(),a.getDate(),23,59,59,999);let o=new Date,j=n;switch(f){case"day":o=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0,0);break;case"yesterday":const t=new Date;t.setDate(a.getDate()-1),o=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0),j=new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,999);break;case"week":o.setDate(a.getDate()-6),o.setHours(0,0,0,0);break;case"month":o=new Date(a.getFullYear(),a.getMonth(),1,0,0,0,0);break}const s=p.reduce((t,u)=>({...t,[u.id]:u}),{});return d.filter(t=>{const u=new Date(t.date);return t.status!=="Cancelada"&&u>=o&&u<=j}).reduce((t,u)=>{const x=u.items.reduce((I,A)=>{const L=s[A.productId],E=(L?.costPrice||0)+(L?.additionalCostPrice||0);return I+E*A.quantity},0),h=u.subtotal-u.discount;return t+(h-x)},0)},[d,p,f]);return e.jsxs("div",{className:`p-5 rounded-lg border border-border ${l||"bg-surface"}`,children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-base font-bold text-secondary",children:"Lucro"}),e.jsxs("select",{value:f,onChange:a=>i(a.target.value),className:"text-xs font-semibold text-muted bg-surface-secondary px-3 py-1 rounded-full border-0 focus:ring-2 focus:ring-accent cursor-pointer",children:[e.jsx("option",{value:"day",children:"Hoje"}),e.jsx("option",{value:"yesterday",children:"Ontem"}),e.jsx("option",{value:"week",children:"Semana"}),e.jsx("option",{value:"month",children:"Mês"})]})]}),e.jsx("p",{className:"text-3xl font-bold mt-2 text-success",children:T(Math.abs(S))})]})}),de=F.memo(({sales:d,customers:p,className:l})=>{const f=g.useMemo(()=>p.reduce((n,o)=>({...n,[o.id]:o.name}),{}),[p]),i=g.useMemo(()=>{const n=new Date().toDateString();return d.filter(o=>new Date(o.date).toDateString()===n&&o.status!=="Cancelada")},[d]),S=g.useMemo(()=>{const n=i.reduce((j,s)=>j+s.total,0),o=i.length;return{total:n,count:o}},[i]),a=n=>[...new Set(n.payments.map(j=>j.method))].slice(0,2).map(j=>({method:j,color:{Pix:"bg-green-100 text-green-700",Dinheiro:"bg-yellow-100 text-yellow-700",Débito:"bg-blue-100 text-blue-700",Crédito:"bg-purple-100 text-purple-700","Aparelho na Troca":"bg-orange-100 text-orange-700",Crediário:"bg-red-100 text-red-700"}[j]||"bg-gray-100 text-gray-700"}));return e.jsxs("div",{className:`p-5 rounded-lg border border-border h-full flex flex-col ${l||"bg-surface"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-base font-bold text-secondary",children:"Vendas de Hoje"}),S.count>0&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-xs bg-accent-light text-accent px-2 py-1 rounded-full font-bold",children:[S.count," ",S.count===1?"venda":"vendas"]}),e.jsx("span",{className:"text-sm font-bold text-success",children:T(S.total)})]})]}),i.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 text-center py-8",children:[e.jsx("svg",{className:"w-12 h-12 text-border",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsx("p",{className:"mt-2 font-semibold",children:"Nenhuma venda ainda..."}),e.jsx("p",{className:"text-sm text-muted",children:"Aqui você verá suas vendas de hoje."})]}):e.jsx("div",{className:"overflow-y-auto flex-1 space-y-2 custom-scrollbar max-h-72",children:i.map(n=>e.jsxs("div",{className:"p-3 bg-surface-secondary rounded-lg border border-border hover:border-accent transition-colors",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-bold text-accent text-sm",children:["#",n.id]}),e.jsx("span",{className:"text-xs text-muted bg-white px-2 py-0.5 rounded",children:new Date(n.date).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),e.jsx("span",{className:"font-bold text-primary text-lg",children:T(n.total)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsxs("p",{className:"text-xs text-primary font-medium truncate max-w-[150px] flex items-center gap-1.5",title:f[n.customerId],children:[e.jsx(J,{className:"h-3.5 w-3.5 text-gray-400"}),f[n.customerId]||"Cliente"]}),e.jsxs("p",{className:"text-xs text-muted flex items-center gap-1.5",children:[e.jsx(K,{className:"h-3.5 w-3.5 text-gray-400"}),n.items.reduce((o,j)=>o+j.quantity,0)," ",n.items.length===1?"item":"itens"]})]}),e.jsx("div",{className:"flex flex-wrap gap-1 justify-end",children:a(n).map((o,j)=>e.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full font-semibold ${o.color}`,children:o.method},j))})]})]},n.id))})]})}),ie=F.memo(({data:d,period:p,onPeriodChange:l,className:f})=>{const i=g.useMemo(()=>Math.max(...d.map(a=>a.faturamento),1),[d]),S=a=>a<=0?"#ffffff00":`hsl(217, 91%, ${80-a/i*35}%)`;return e.jsxs("div",{className:`p-5 rounded-lg border border-border h-full ${f||"bg-surface"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-base font-bold text-secondary",children:"Faturamento"}),e.jsxs("select",{value:p,onChange:a=>l(a.target.value),className:"text-xs font-semibold text-muted bg-surface-secondary px-3 py-1 rounded-full border-0 focus:ring-2 focus:ring-accent cursor-pointer",children:[e.jsx("option",{value:"day",children:"Hoje"}),e.jsx("option",{value:"week",children:"Semana"}),e.jsx("option",{value:"month",children:"Mês"}),e.jsx("option",{value:"year",children:"Ano atual"}),e.jsx("option",{value:"all_years",children:"Anos"})]})]}),e.jsx(X,{width:"100%",height:300,children:e.jsxs(Z,{data:d,margin:{top:5,right:20,left:0,bottom:5},children:[e.jsx(ee,{strokeDasharray:"3 3",vertical:!1,stroke:"var(--color-border)"}),e.jsx(te,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"var(--color-muted)",fontSize:12}}),e.jsx(se,{axisLine:!1,tickLine:!1,width:90,tick:{fill:"var(--color-muted)",fontSize:12},tickFormatter:a=>T(a)}),e.jsx(ae,{cursor:{fill:"#9ca3af",opacity:.1,radius:4},contentStyle:{backgroundColor:"var(--color-surface)",border:"1px solid var(--color-border)",borderRadius:"0.5rem"},formatter:a=>T(a)}),e.jsx(re,{dataKey:"faturamento",name:"Faturamento",radius:[4,4,0,0],maxBarSize:30,children:d.map((a,n)=>e.jsx(oe,{fill:S(a.faturamento),strokeWidth:0},`cell-${n}`))})]})})]})}),me=F.memo(({sales:d,activeMethods:p,className:l})=>{const[f,i]=g.useState("month"),S=s=>{const r=s.toLowerCase();if(r.includes("pix"))return{color:"bg-green-500",lightColor:"bg-green-100 text-green-700"};if(r.includes("dinheiro")||r.includes("espécie"))return{color:"bg-yellow-500",lightColor:"bg-yellow-100 text-yellow-700"};if(r.includes("débito"))return{color:"bg-blue-500",lightColor:"bg-blue-100 text-blue-700"};if(r.includes("crédito"))return{color:"bg-purple-500",lightColor:"bg-purple-100 text-purple-700"};if(r.includes("troca"))return{color:"bg-orange-500",lightColor:"bg-orange-100 text-orange-700"};if(r.includes("crediário"))return{color:"bg-red-500",lightColor:"bg-red-100 text-red-700"};const t=[{color:"bg-pink-500",lightColor:"bg-pink-100 text-pink-700"},{color:"bg-indigo-500",lightColor:"bg-indigo-100 text-indigo-700"},{color:"bg-teal-500",lightColor:"bg-teal-100 text-teal-700"},{color:"bg-cyan-500",lightColor:"bg-cyan-100 text-cyan-700"},{color:"bg-rose-500",lightColor:"bg-rose-100 text-rose-700"},{color:"bg-amber-500",lightColor:"bg-amber-100 text-amber-700"}],u=s.split("").reduce((x,h)=>x+h.charCodeAt(0),0);return t[Math.abs(u)%t.length]},a=g.useMemo(()=>{const s=p.map(u=>u.name),r=["Aparelho na Troca"],t=new Set([...s,...r]);return Array.from(t)},[p]),n=g.useMemo(()=>{const s=new Date;let r=new Date,t=new Date(s.getFullYear(),s.getMonth(),s.getDate(),23,59,59,999);switch(f){case"day":r=new Date(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0,0),t=new Date(s.getFullYear(),s.getMonth(),s.getDate(),23,59,59,999);break;case"week":const h=s.getDay();r=new Date(s),r.setDate(s.getDate()-h),r.setHours(0,0,0,0),t=new Date(r),t.setDate(r.getDate()+6),t.setHours(23,59,59,999);break;case"month":r=new Date(s.getFullYear(),s.getMonth(),1,0,0,0,0),t=new Date(s.getFullYear(),s.getMonth()+1,0,23,59,59,999);break;case"year":r=new Date(s.getFullYear(),0,1,0,0,0,0),t=new Date(s.getFullYear(),11,31,23,59,59,999);break}const u=d.filter(h=>{const I=new Date(h.date);return h.status!=="Cancelada"&&I>=r&&I<=t}),x={};return a.forEach(h=>x[h]=0),u.forEach(h=>{h.payments.forEach(I=>{let A=I.method;const L={Crédito:"Cartão de crédito",Débito:"Cartão de débito"};L[A]&&a.includes(L[A])&&(A=L[A]),x[A]===void 0&&(x[A]=0),x[A]+=I.value})}),x},[d,f,a]),o=g.useMemo(()=>Object.values(n).reduce((s,r)=>s+r,0),[n]),j=g.useMemo(()=>Object.keys(n).sort((r,t)=>{const u=n[r],x=n[t];return u!==x?x-u:r.localeCompare(t)}).map(r=>({key:r,label:r,value:n[r],...S(r)})),[n]);return e.jsxs("div",{className:`p-5 rounded-lg border border-border ${l||"bg-surface"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-base font-bold text-secondary",children:"Total por Forma de Pagamento"}),e.jsxs("select",{value:f,onChange:s=>i(s.target.value),className:"text-xs font-semibold text-muted bg-surface-secondary px-3 py-1 rounded-full border-0 focus:ring-2 focus:ring-accent cursor-pointer",children:[e.jsx("option",{value:"day",children:"Hoje"}),e.jsx("option",{value:"week",children:"Semana"}),e.jsx("option",{value:"month",children:"Mês"}),e.jsx("option",{value:"year",children:"Ano"})]})]}),e.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto pr-2 custom-scrollbar",children:j.map(({key:s,label:r,color:t,lightColor:u,value:x})=>{const h=o>0?x/o*100:0;return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${t} shrink-0`}),e.jsxs("div",{className:"flex-grow",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-secondary",children:r}),e.jsx("span",{className:"text-sm font-bold text-primary",children:T(x)})]}),e.jsx("div",{className:"h-1.5 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${t} transition-all duration-500`,style:{width:`${h}%`}})})]})]},s)})}),e.jsxs("div",{className:"mt-4 pt-3 border-t border-border flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-muted uppercase",children:"Total Geral"}),e.jsx("span",{className:"text-lg font-bold text-success",children:T(o)})]})]})}),ue=F.memo(({soldItems:d,className:p})=>e.jsxs("div",{className:`p-5 rounded-lg border border-border ${p||"bg-surface"}`,children:[e.jsx("h3",{className:"text-base font-bold text-secondary mb-3",children:"Últimos Produtos Vendidos"}),d.length===0?e.jsx("p",{className:"text-sm text-muted text-center py-4",children:"Nenhum produto vendido recentemente."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left text-muted",children:[e.jsx("th",{className:"font-medium pb-2",children:"Produto"}),e.jsx("th",{className:"font-medium pb-2",children:"Data"}),e.jsx("th",{className:"font-medium pb-2 text-center",children:"Qtd"})]})}),e.jsx("tbody",{children:d.map((l,f)=>e.jsxs("tr",{className:"border-t border-border text-secondary",children:[e.jsx("td",{className:"py-2 font-semibold",children:l.productName}),e.jsx("td",{className:"py-2",children:new Date(l.saleDate).toLocaleDateString("pt-BR")}),e.jsx("td",{className:"py-2 text-center",children:l.quantity})]},`${l.saleId}-${l.productId}-${f}`))})]})})]})),xe=F.memo(({products:d,className:p})=>e.jsxs("div",{className:`p-5 rounded-lg border border-border ${p||"bg-surface"}`,children:[e.jsx("h3",{className:"text-base font-bold text-secondary mb-3",children:"Últimos Produtos Adicionados"}),d.length===0?e.jsx("p",{className:"text-sm text-muted text-center py-4",children:"Nenhum produto adicionado recentemente."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"w-full",children:e.jsxs("tr",{className:"text-left text-muted",children:[e.jsx("th",{className:"font-medium pb-2",children:"Produto"}),e.jsx("th",{className:"font-medium pb-2",children:"Data"}),e.jsx("th",{className:"font-medium pb-2 text-right",children:"Custo"}),e.jsx("th",{className:"font-medium pb-2 text-right",children:"Venda"})]})}),e.jsx("tbody",{children:d.map(l=>e.jsxs("tr",{className:"border-t border-border text-secondary",children:[e.jsx("td",{className:"py-2",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold truncate max-w-[160px]",title:l.model,children:l.model}),l.origin==="Troca"&&e.jsx("span",{className:"text-[6px] px-1 py-px rounded bg-orange-100 text-orange-700 font-bold uppercase w-fit mt-0.5",children:"Troca"})]})}),e.jsx("td",{className:"py-2 text-xs",children:new Date(l.createdAt).toLocaleDateString("pt-BR")}),e.jsx("td",{className:"py-2 text-right text-xs text-muted",children:T(l.costPrice)}),e.jsx("td",{className:"py-2 text-right font-semibold",children:T(l.price)})]},l.id))})]})})]})),be=()=>{const[d,p]=g.useState(!0),[l,f]=g.useState(null),[i,S]=g.useState([]),[a,n]=g.useState([]),[o,j]=g.useState([]),[s,r]=g.useState([]),[t,u]=g.useState("year"),x=g.useCallback(async(w=0)=>{p(!0),f(null);try{const[D,Y,$,O]=await Promise.all([q(),W(),V(),_()]);S(D||[]),n(Y||[]),j($||[]),r(O||[])}catch(D){if(console.error("Dashboard fetchData error:",D),(D?.message?.includes("aborted")||D?.name==="AbortError")&&w<2)return console.warn("Dashboard: AbortError, retrying after delay... (attempt",w+1,")"),await new Promise(Y=>setTimeout(Y,500)),x(w+1);f("Falha ao carregar os dados do dashboard. Clique para tentar novamente.")}finally{p(!1)}},[]);g.useEffect(()=>{x();const w=new BroadcastChannel("app_cache_sync");return w.onmessage=D=>{D.data&&D.data.type==="CLEAR_CACHE"&&D.data.keys.includes("sales")&&x()},()=>{w.close()}},[x]);const h=F.useMemo(()=>{const w=i.reduce((N,m)=>N+m.stock,0),D=i.reduce((N,m)=>N+((m.costPrice||0)+(m.additionalCostPrice||0))*m.stock,0),Y=i.reduce((N,m)=>N+m.price*m.stock,0),$=D>0?(Y-D)/D*100:0,O=a.length,M=new Date;let v=[];const y=o.filter(N=>N.status!=="Cancelada");if(t==="year"){const N=y.filter(c=>new Date(c.date).getFullYear()===M.getFullYear()).reduce((c,b)=>{const C=new Date(b.date).getMonth();return c[C]=(c[C]||0)+b.total,c},{});v=["JAN","FEV","MAR","ABR","MAI","JUN","JUL","AGO","SET","OUT","NOV","DEZ"].map((c,b)=>({name:c,faturamento:N[b]||0}))}else if(t==="month"){const N=new Date(M.getFullYear(),M.getMonth(),1),m=new Date(M.getFullYear(),M.getMonth()+1,0),c=m.getDate(),C=y.filter(B=>{const k=new Date(B.date);return k>=N&&k<=m}).reduce((B,k)=>{const P=new Date(k.date).getDate();return B[P]=(B[P]||0)+k.total,B},{});v=Array.from({length:c},(B,k)=>{const P=k+1;return{name:P.toString().padStart(2,"0"),faturamento:C[P]||0}})}else if(t==="week"){const N=M.getDay(),m=new Date(M);m.setDate(M.getDate()-N),m.setHours(0,0,0,0);const c=new Date(m);c.setDate(m.getDate()+6),c.setHours(23,59,59,999);const C=y.filter(k=>{const P=new Date(k.date);return P>=m&&P<=c}).reduce((k,P)=>{const H=new Date(P.date).getDay();return k[H]=(k[H]||0)+P.total,k},{});v=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"].map((k,P)=>({name:k,faturamento:C[P]||0}))}else if(t==="day"){const N=new Date(M.getFullYear(),M.getMonth(),M.getDate()),c=y.filter(b=>new Date(b.date)>=N).reduce((b,C)=>{const B=new Date(C.date).getHours();return b[B]=(b[B]||0)+C.total,b},{});v=Array.from({length:24},(b,C)=>({name:`${C.toString().padStart(2,"0")}h`,faturamento:c[C]||0}))}else if(t==="all_years"){const N=y.reduce((c,b)=>{const C=new Date(b.date).getFullYear();return c[C]=(c[C]||0)+b.total,c},{}),m=Array.from(new Set(y.map(c=>new Date(c.date).getFullYear()))).sort((c,b)=>c-b);m.length===0&&m.push(M.getFullYear()),v=m.map(c=>({name:c.toString(),faturamento:N[c]||0}))}return{totalStock:w,stockCost:D,stockValue:Y,markup:$,customerCount:O,billingChartData:v}},[i,a,o,t]),{recentSales:I,recentSoldItems:A,recentAddedProducts:L}=F.useMemo(()=>{const w=[...o].sort((v,y)=>new Date(y.date).getTime()-new Date(v.date).getTime()),D=w.slice(0,5),Y=i.reduce((v,y)=>({...v,[y.id]:y.model}),{}),$=w.flatMap(v=>v.items.map(y=>({productName:Y[y.productId]||"Desconhecido",quantity:y.quantity,saleDate:v.date,saleId:v.id,productId:y.productId}))).slice(0,5),M=[...i].sort((v,y)=>new Date(y.createdAt).getTime()-new Date(v.createdAt).getTime()).slice(0,5);return{recentSales:D,recentSoldItems:$,recentAddedProducts:M}},[o,i]),E=g.useMemo(()=>i.filter(w=>w.stock>0&&w.minimumStock&&w.stock<=w.minimumStock).length,[i]);return d?e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsx(z,{})}):l?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-4 py-10",children:[e.jsx("p",{className:"text-center text-danger",children:l}),e.jsx("button",{onClick:()=>x(),className:"px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary/90 transition-colors",children:"Tentar Novamente"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Dashboard"}),e.jsxs("p",{className:"text-muted",children:["Meu Plano: ",e.jsx("span",{className:"font-semibold text-secondary",children:"Plus (Trimestral)"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[E>0&&e.jsx(le,{count:E}),e.jsx(ne,{})]})]}),e.jsxs("div",{className:"grid gap-6 grid-cols-[repeat(auto-fit,minmax(300px,1fr))]",children:[e.jsx(R,{title:"Estoque disponível",value:h.totalStock.toString(),subValue1:`Custo: ${T(h.stockCost)}`,subValue2:`Venda: ${T(h.stockValue)}`,subValue3:`Markup: ${h.markup.toFixed(2)}%`}),e.jsx(R,{title:"Clientes cadastrados",value:h.customerCount.toString()}),e.jsx(ce,{sales:o,products:i})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx(de,{sales:o,customers:a})}),e.jsx("div",{className:"lg:col-span-2 min-h-[400px]",children:e.jsx(ie,{data:h.billingChartData,period:t,onPeriodChange:u})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(xe,{products:L}),e.jsx("div",{className:"h-full",children:e.jsx(me,{sales:o,activeMethods:s})}),e.jsx(ue,{soldItems:A})]})]})};export{be as default};
